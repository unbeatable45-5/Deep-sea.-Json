<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Statusphere - Nigerian University Social Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            500: '#f97316',
                            600: '#ea580c',
                        },
                        dark: {
                            100: '#1f2937',
                            800: '#1e293b',
                            900: '#0f172a',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-dark-900 text-gray-900 dark:text-white min-h-screen">
    <!-- Top Bar -->
    <header class="sticky top-0 z-40 bg-white/95 dark:bg-dark-800/95 backdrop-blur-sm border-b border-gray-200 dark:border-dark-100">
        <div class="max-w-2xl mx-auto px-4 py-3 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg flex items-center justify-center">
                    <span class="text-white font-bold text-sm">S</span>
                </div>
                <h1 class="text-xl font-bold">Statusphere</h1>
            </div>
            <div class="flex items-center gap-3">
                <button class="p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors">
                    🔍
                </button>
                <button onclick="toggleTheme()" class="p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors">
                    <span id="themeIcon">☀️</span>
                </button>
            </div>
        </div>
    </header>

    <main class="max-w-2xl mx-auto px-4 pb-20">
        <!-- Campus Filter -->
        <div class="py-4">
            <div class="flex gap-2 overflow-x-auto scrollbar-hide pb-2">
                <button onclick="filterByCampus('all')" class="campus-filter flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-colors bg-primary-500 text-white" data-campus="all">All</button>
                <button onclick="filterByCampus('UNILAG')" class="campus-filter flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-colors bg-gray-200 dark:bg-dark-800 text-gray-700 dark:text-gray-300" data-campus="UNILAG">UNILAG</button>
                <button onclick="filterByCampus('OAU')" class="campus-filter flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-colors bg-gray-200 dark:bg-dark-800 text-gray-700 dark:text-gray-300" data-campus="OAU">OAU</button>
                <button onclick="filterByCampus('UI')" class="campus-filter flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-colors bg-gray-200 dark:bg-dark-800 text-gray-700 dark:text-gray-300" data-campus="UI">UI</button>
                <button onclick="filterByCampus('UNIBEN')" class="campus-filter flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-colors bg-gray-200 dark:bg-dark-800 text-gray-700 dark:text-gray-300" data-campus="UNIBEN">UNIBEN</button>
                <button onclick="filterByCampus('LASU')" class="campus-filter flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-colors bg-gray-200 dark:bg-dark-800 text-gray-700 dark:text-gray-300" data-campus="LASU">LASU</button>
            </div>
        </div>

        <!-- Tabs Filter -->
        <div class="border-b border-gray-200 dark:border-dark-100 mb-4">
            <div class="flex">
                <button onclick="filterByTab('all')" class="tab-filter flex-1 py-3 px-4 text-sm font-medium border-b-2 transition-colors border-primary-500 text-primary-500" data-tab="all">All</button>
                <button onclick="filterByTab('confessions')" class="tab-filter flex-1 py-3 px-4 text-sm font-medium border-b-2 transition-colors border-transparent text-gray-600 dark:text-gray-400" data-tab="confessions">Confessions</button>
                <button onclick="filterByTab('moods')" class="tab-filter flex-1 py-3 px-4 text-sm font-medium border-b-2 transition-colors border-transparent text-gray-600 dark:text-gray-400" data-tab="moods">Moods</button>
                <button onclick="filterByTab('trending')" class="tab-filter flex-1 py-3 px-4 text-sm font-medium border-b-2 transition-colors border-transparent text-gray-600 dark:text-gray-400" data-tab="trending">🔥 Trending</button>
            </div>
        </div>

        <!-- Feed -->
        <div id="feed" class="space-y-4">
            <!-- Posts will be loaded here -->
        </div>
    </main>

    <!-- Floating Post Button -->
    <button onclick="openPostModal()" class="fixed bottom-6 right-6 w-14 h-14 bg-primary-500 hover:bg-primary-600 text-white rounded-full shadow-lg flex items-center justify-center transition-colors z-50">
        ➕
    </button>

    <!-- Post Modal -->
    <div id="postModal" class="hidden fixed inset-0 bg-black/50 flex items-end sm:items-center justify-center z-50 p-4">
        <div class="bg-white dark:bg-dark-800 rounded-t-xl sm:rounded-xl w-full max-w-lg max-h-[90vh] overflow-hidden">
            <div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-dark-100">
                <h2 class="text-lg font-semibold">Post a Status</h2>
                <button onclick="closePostModal()" class="p-1 text-gray-500 dark:text-gray-400">✖️</button>
            </div>
            
            <div class="p-4 space-y-4">
                <textarea id="postContent" placeholder="What's on your mind?" class="w-full px-3 py-2 border border-gray-300 dark:border-dark-100 rounded-lg bg-white dark:bg-dark-800 placeholder-gray-500 dark:placeholder-gray-400 h-24 resize-none" maxlength="280"></textarea>
                
                <div class="flex flex-wrap gap-1">
                    <span class="text-sm font-medium text-gray-700 dark:text-gray-300 w-full mb-2">Quick Emojis:</span>
                    <button onclick="insertEmoji('😂')" class="p-2 text-lg hover:bg-gray-100 dark:hover:bg-dark-100 rounded">😂</button>
                    <button onclick="insertEmoji('😭')" class="p-2 text-lg hover:bg-gray-100 dark:hover:bg-dark-100 rounded">😭</button>
                    <button onclick="insertEmoji('😍')" class="p-2 text-lg hover:bg-gray-100 dark:hover:bg-dark-100 rounded">😍</button>
                    <button onclick="insertEmoji('🔥')" class="p-2 text-lg hover:bg-gray-100 dark:hover:bg-dark-100 rounded">🔥</button>
                    <button onclick="insertEmoji('💀')" class="p-2 text-lg hover:bg-gray-100 dark:hover:bg-dark-100 rounded">💀</button>
                    <button onclick="insertEmoji('✨')" class="p-2 text-lg hover:bg-gray-100 dark:hover:bg-dark-100 rounded">✨</button>
                </div>
                
                <div class="flex items-center">
                    <input type="checkbox" id="anonymous" class="w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded">
                    <label for="anonymous" class="ml-2 text-sm font-medium">Post anonymously</label>
                </div>
                
                <input type="text" id="username" placeholder="Enter your username" class="w-full px-3 py-2 border border-gray-300 dark:border-dark-100 rounded-lg bg-white dark:bg-dark-800 placeholder-gray-500 dark:placeholder-gray-400">
                
                <select id="campus" class="w-full px-3 py-2 border border-gray-300 dark:border-dark-100 rounded-lg bg-white dark:bg-dark-800">
                    <option value="UNILAG">University of Lagos (UNILAG)</option>
                    <option value="OAU">Obafemi Awolowo University (OAU)</option>
                    <option value="UI">University of Ibadan (UI)</option>
                    <option value="UNIBEN">University of Benin (UNIBEN)</option>
                    <option value="LASU">Lagos State University (LASU)</option>
                </select>
                
                <button onclick="submitPost()" class="w-full bg-primary-500 hover:bg-primary-600 text-white font-medium py-2 px-4 rounded-lg transition-colors">Post Now</button>
            </div>
        </div>
    </div>

    <script>
        let posts = [
            {
                id: '1',
                type: 'meme',
                content: 'When you submit assignment 5 minutes before deadline 😂',
                imageUrl: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop',
                username: 'codewizard_ng',
                isAnonymous: false,
                campus: 'UNILAG',
                timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000),
                reactions: { '😂': 124, '❤': 23, '🔥': 45, '👀': 12 },
                commentCount: 18
            },
            {
                id: '2',
                type: 'confession',
                content: 'I haven\'t attended a single lecture this semester but somehow I\'m still passing. Nigerian university system is something else 🤯',
                username: 'Anonymous',
                isAnonymous: true,
                campus: 'OAU',
                timestamp: new Date(Date.now() - 4 * 60 * 60 * 1000),
                reactions: { '😂': 89, '❤': 156, '🔥': 78, '👀': 234 },
                commentCount: 67
            },
            {
                id: '3',
                type: 'mood',
                content: 'Currently debugging code at 3AM because this assignment is due tomorrow. Send help and energy drinks 💀',
                username: 'midnight_coder',
                isAnonymous: false,
                campus: 'UI',
                timestamp: new Date(Date.now() - 30 * 60 * 1000),
                reactions: { '😂': 45, '❤': 67, '🔥': 23, '👀': 8 },
                commentCount: 12
            }
        ];

        let currentCampusFilter = 'all';
        let currentTabFilter = 'all';

        function formatTimeAgo(timestamp) {
            const now = new Date();
            const diff = now.getTime() - timestamp.getTime();
            const minutes = Math.floor(diff / (1000 * 60));
            const hours = Math.floor(diff / (1000 * 60 * 60));
            
            if (minutes < 60) {
                return `${minutes}m ago`;
            } else {
                return `${hours}h ago`;
            }
        }

        function renderPost(post) {
            const typeColor = {
                'confession': 'text-purple-500',
                'mood': 'text-blue-500',
                'meme': 'text-green-500'
            };

            return `
                <div class="bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-100 rounded-lg shadow-sm p-4" data-campus="${post.campus}" data-type="${post.type}">
                    <div class="flex items-start justify-between mb-3">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center">
                                <span class="text-white font-semibold text-sm">${post.isAnonymous ? '?' : post.username[0].toUpperCase()}</span>
                            </div>
                            <div>
                                <div class="flex items-center gap-2">
                                    <span class="font-medium">${post.username}</span>
                                    <span class="text-xs font-medium ${typeColor[post.type] || 'text-gray-500'}">${post.type.charAt(0).toUpperCase() + post.type.slice(1)}</span>
                                </div>
                                <div class="flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400">
                                    <span>${post.campus}</span>
                                    <span>•</span>
                                    <span>${formatTimeAgo(post.timestamp)}</span>
                                </div>
                            </div>
                        </div>
                        <button class="p-1 text-gray-500 dark:text-gray-400">⋮</button>
                    </div>
                    
                    ${post.imageUrl ? `<img src="${post.imageUrl}" alt="Post image" class="w-full max-h-96 object-cover rounded-lg mb-3">` : ''}
                    
                    <p class="mb-4 leading-relaxed">${post.content}</p>
                    
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-1">
                            ${Object.entries(post.reactions).map(([emoji, count]) => 
                                `<button onclick="reactToPost('${post.id}', '${emoji}')" class="flex items-center gap-1 px-2 py-1 rounded-full bg-gray-100 dark:bg-dark-100 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                                    <span class="text-lg">${emoji}</span>
                                    <span class="text-sm font-medium text-gray-600 dark:text-gray-400">${count}</span>
                                </button>`
                            ).join('')}
                        </div>
                        <button class="flex items-center gap-2 text-gray-600 dark:text-gray-400">
                            💬 <span class="text-sm">${post.commentCount}</span>
                        </button>
                    </div>
                </div>
            `;
        }

        function renderFeed() {
            const feed = document.getElementById('feed');
            let filteredPosts = posts;

            // Filter by campus
            if (currentCampusFilter !== 'all') {
                filteredPosts = filteredPosts.filter(post => post.campus === currentCampusFilter);
            }

            // Filter by tab
            if (currentTabFilter !== 'all') {
                if (currentTabFilter === 'trending') {
                    filteredPosts = filteredPosts.sort((a, b) => {
                        const aTotal = Object.values(a.reactions).reduce((sum, count) => sum + count, 0);
                        const bTotal = Object.values(b.reactions).reduce((sum, count) => sum + count, 0);
                        return bTotal - aTotal;
                    });
                } else {
                    filteredPosts = filteredPosts.filter(post => post.type === currentTabFilter);
                }
            }

            feed.innerHTML = filteredPosts.map(post => renderPost(post)).join('');
        }

        function filterByCampus(campus) {
            currentCampusFilter = campus;
            
            // Update button styles
            document.querySelectorAll('.campus-filter').forEach(btn => {
                if (btn.dataset.campus === campus) {
                    btn.className = 'campus-filter flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-colors bg-primary-500 text-white';
                } else {
                    btn.className = 'campus-filter flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-colors bg-gray-200 dark:bg-dark-800 text-gray-700 dark:text-gray-300';
                }
            });
            
            renderFeed();
        }

        function filterByTab(tab) {
            currentTabFilter = tab;
            
            // Update button styles
            document.querySelectorAll('.tab-filter').forEach(btn => {
                if (btn.dataset.tab === tab) {
                    btn.className = 'tab-filter flex-1 py-3 px-4 text-sm font-medium border-b-2 transition-colors border-primary-500 text-primary-500';
                } else {
                    btn.className = 'tab-filter flex-1 py-3 px-4 text-sm font-medium border-b-2 transition-colors border-transparent text-gray-600 dark:text-gray-400';
                }
            });
            
            renderFeed();
        }

        function reactToPost(postId, emoji) {
            const post = posts.find(p => p.id === postId);
            if (post) {
                post.reactions[emoji]++;
                renderFeed();
            }
        }

        function toggleTheme() {
            const html = document.documentElement;
            const themeIcon = document.getElementById('themeIcon');
            
            if (html.classList.contains('dark')) {
                html.classList.remove('dark');
                themeIcon.textContent = '🌙';
            } else {
                html.classList.add('dark');
                themeIcon.textContent = '☀️';
            }
        }

        function openPostModal() {
            document.getElementById('postModal').classList.remove('hidden');
        }

        function closePostModal() {
            document.getElementById('postModal').classList.add('hidden');
            document.getElementById('postContent').value = '';
            document.getElementById('username').value = '';
            document.getElementById('anonymous').checked = false;
        }

        function insertEmoji(emoji) {
            const textarea = document.getElementById('postContent');
            textarea.value += emoji;
            textarea.focus();
        }

        function submitPost() {
            const content = document.getElementById('postContent').value.trim();
            const username = document.getElementById('username').value.trim();
            const isAnonymous = document.getElementById('anonymous').checked;
            const campus = document.getElementById('campus').value;

            if (!content || (!isAnonymous && !username)) {
                alert('Please fill in all required fields');
                return;
            }

            const newPost = {
                id: Date.now().toString(),
                type: 'text',
                content: content,
                username: isAnonymous ? 'Anonymous' : username,
                isAnonymous: isAnonymous,
                campus: campus,
                timestamp: new Date(),
                reactions: { '😂': 0, '❤': 0, '🔥': 0, '👀': 0 },
                commentCount: 0
            };

            posts.unshift(newPost);
            renderFeed();
            closePostModal();
        }

        // Initialize the app
        renderFeed();

        // Show new posts notification every 15 seconds
        setInterval(() => {
            if (Math.random() > 0.8) {
                const banner = document.createElement('div');
                banner.className = 'mb-4';
                banner.innerHTML = `
                    <button onclick="this.parentElement.remove()" class="w-full py-2 px-4 bg-primary-500 text-white rounded-lg font-medium flex items-center justify-center gap-2 hover:bg-primary-600 transition-colors">
                        🔄 New Posts Available
                    </button>
                `;
                document.getElementById('feed').parentElement.insertBefore(banner, document.getElementById('feed'));
            }
        }, 15000);
    </script>
</body>
</html>